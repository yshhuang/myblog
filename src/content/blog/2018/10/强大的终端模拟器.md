---
# layout: post
title:  "å¼ºå¤§çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨-Termux"
author: yshhuang
pubDatetime: 2018-10-26
featured: false
draft: false
tags:
  - linux android termux
description:
  termuxå®‰è£…åŠä½¿ç”¨
---
æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„ä¸»æµæ¡Œé¢ç³»ç»Ÿéƒ½ä¼šè‡ªå¸¦å‘½ä»¤è¡Œç¨‹åº,Windowsä¹Ÿä¸ä¾‹å¤–(Windows10æ¨å‡ºäº†[Bash Shell](https://www.laptopmag.com/articles/use-bash-shell-windows-10)å’Œ[powershell](https://docs.microsoft.com/en-us/powershell/scripting/powershell-scripting?view=powershell-6)),å¯è§å•ç‹¬ä½¿ç”¨å›¾å½¢ç•Œé¢å·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†,ç‰¹åˆ«æ˜¯å¯¹æˆ‘è¿™ç§ä»äº‹è½¯ä»¶å¼€å‘å·¥ä½œçš„äººæ¥è¯´,ä¸€ä¸ªç³»ç»Ÿä¸­æ²¡æœ‰å‘½ä»¤è¡Œä¼šå¼•èµ·æåº¦ä¸é€‚.
ä½†æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ™ºèƒ½æ‰‹æœºä¸Šå°±ç¼ºå°‘è¿™ä¹ˆä¸€ç§æ–¹ä¾¿çš„å·¥å…·,ç›®å‰çš„æ‰‹æœºåœ¨ç¡¬ä»¶æ–¹é¢å·²ç»è¾¾åˆ°åˆçº§çš„æ¡Œé¢è®¡ç®—æœºçš„æ ‡å‡†,æ¯”å¦‚æˆ‘æ‰‹é‡Œè¿™æ¬¾ä¸¤å¹´å‰ä¹°çš„å°ç±³5sp,4æ ¸6Gå†…å­˜128Gå­˜å‚¨ç©ºé—´,åœ¨ä¸Šé¢è¿è¡Œä¸€äº›å¸¸è§„è½¯ä»¶å®Œå…¨ä¸æ˜¯é—®é¢˜.

![image](https://user-images.githubusercontent.com/9245002/65677933-0a531500-e085-11e9-969f-7fb06c6aea19.png)

å¤§å®¶éƒ½çŸ¥é“,Androidæ˜¯åŸºäºLinuxå†…æ ¸,æ‰€ä»¥å®ƒæœ¬èº«å°±æ˜¯å°±å¯ä»¥å½“åšä¸€å°Linuxä¸»æœºæ¥ç”¨(è‹¹æœæ‰‹æœºçš„è¯å¥½åƒå¿…é¡»è¦è¶Šç‹±,è¿™é‡Œå°±ä¸ç®¡ä»–äº†),å¯ä»¥åœ¨ä¸Šé¢å®‰è£…Python,git,openssh,æ•°æ®åº“ç­‰.Androidæ˜¯ä¸€ä¸ªå•ç”¨æˆ·å›¾å½¢åŒ–ç³»ç»Ÿ,åŠŸèƒ½ä¸»è¦æ˜¯ä»¥åº”ç”¨çš„å½¢å¼æ¥å‘ˆçŒ®ç»™ç”¨æˆ·,å› æ­¤åœ¨ç³»ç»Ÿä¸Šæˆ‘ä»¬æ— æ³•ç›´æ¥è·å–ç»ˆç«¯,ä¹Ÿå°±æ— æ³•ä½¿ç”¨ä¸°å¯Œçš„Linuxå‘½ä»¤äº†.ä½†æ˜¯å€ŸåŠ©ç»ˆç«¯æ¨¡æ‹Ÿå™¨,å¯ä»¥å®ç°è¿™ä¸€éœ€æ±‚.ä¹‹å‰æˆ‘ä¹Ÿç”¨è¿‡ä¸€äº›å·¥å…·,ä½†æ˜¯éƒ½ä¸å¤ªå¥½ç”¨,å°±ç»™å¸è½½äº†,ç›´åˆ°æˆ‘å‘ç°äº†Tremuxè¿™æ¬¾ç¥å™¨.

## ç®€ä»‹åŠå®‰è£…

> Termux is an Android terminal emulator and Linux environment app that works directly with no rooting or setup required. A minimal base system is installed automatically - additional packages are available using the APT package manager.  
Termux combines powerful terminal emulation with an extensive Linux package collection.  
    â€¢ Enjoy the bash and zsh shells.  
    â€¢ Edit files with nano and vim.  
    â€¢ Access servers over ssh.  
    â€¢ Develop in C with clang, make and gdb.
    â€¢ Use the python console as a pocket calculator.  
    â€¢ Check out projects with git and subversion.  
    â€¢ Run text-based games with frotz.  
At first start a small base system is downloaded - desired packages can then be installed using the apt package manager. Access the built-in help by long-pressing anywhere on the terminal and selecting the Help menu option to learn more.

[å®˜ç½‘](https://termux.com/)  
[Google Palyä¸‹è½½åœ°å€](https://play.google.com/store/apps/details?id=com.termux)

![image](https://user-images.githubusercontent.com/9245002/65677966-1c34b800-e085-11e9-930e-3d3bb87ac71a.png)

ä¸‹é¢ğŸ‘‡æ˜¯å¯åŠ¨Termuxä¹‹åçš„ç•Œé¢,åº•éƒ¨çš„è™šæ‹Ÿé”®ç›˜æœ‰ä¸€äº›åœ¨Linuxä¸Šç»å¸¸ç”¨åˆ°ä½†æ˜¯æ‰‹æœºé”®ç›˜ä¸Šæ²¡æœ‰çš„æŒ‰é”®(éŸ³é‡é”®+q æ˜¾ç¤º/éšè—),æˆªå›¾ä¸­æç¤ºå¯ä»¥ä½¿ç”¨pkgå‘½ä»¤æ¥ç®¡ç†åŒ…,ä½†æ˜¯Termuxä¹Ÿè‡ªå¸¦aptåŒ…ç®¡ç†å™¨,å¹¶ä¸”ç»´æŠ¤ç€é€‚åˆAndroidçš„åº“,æœ‰è‡ªå·±çš„è½¯ä»¶æº.

![image](https://user-images.githubusercontent.com/9245002/65678004-2951a700-e085-11e9-8fe8-2e52aa711879.png)

## å¼€å§‹ä½¿ç”¨

é¦–å…ˆ,æ‰“å¼€Termuxè¿›å…¥çš„homeç›®å½•åœ¨Androidç³»ç»Ÿä¸­çš„ä½ç½®æ˜¯:/data/data/com.termux/files/home,
å¦å¤–ç¯å¢ƒå˜é‡$PREFIX=/data/data/com.termux/files/usræŒ‡å‘Termuxçš„/usrç›®å½•,ä½¿ç”¨apt install vim å®‰è£…vimç¼–è¾‘å™¨.

![image](https://user-images.githubusercontent.com/9245002/65678575-24d9be00-e086-11e9-9848-05b9678f958a.png)

## ç‰¹ç‚¹

* ç±»å‹  
è¿™æ˜¯ä¸€æ¬¾å¤§å°åªæœ‰å‡ ç™¾Kçš„apkï¼Œå®‰è£…åå¯ä»¥åœ¨Androidæ‰‹æœºä¸Šæ­å»ºä¸€ä¸ªå®Œæ•´çš„Linuxç¯å¢ƒã€‚
* å·¥ä½œæ–¹å¼  
å‘½ä»¤è¡Œï¼Œä¹çœ‹ä¹‹ä¸‹å¾ˆä¸å‹å¥½ï¼Œå®åˆ™æä¾›äº†å¾ˆå¤šéšè—çš„åŠŸèƒ½ï¼Œå®é™…ä¸Šæ‰‹ä¹‹åéå¸¸å¥½ç”¨ã€‚
* å…³äºè½¯ä»¶æº  
Termuxæœ‰å®˜æ–¹çš„è½¯ä»¶æºï¼Œç½‘é€ŸæŒºå¿«ï¼Œä¸Linuxè½¯ä»¶æºä¿æŒåŒæ­¥ã€‚
* å…³äºroot  
æ— éœ€rootï¼æ— éœ€rootï¼æ— éœ€rootï¼ä¸éœ€è¦rootæƒé™Termuxå°±å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¸è¿‡éœ€æ±‚å¤šçš„ç”¨æˆ·èƒ½rootè‡ªç„¶æ˜¯æœ€å¥½äº†ï¼Œå¾ˆå¤šéœ€è¦rootæƒé™çš„å‘½ä»¤å°±å¯ä»¥æ‰§è¡Œäº†ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç®¡ç†ä¸Šä¹Ÿä¼šå¾ˆæ–¹ä¾¿ã€‚
* å¯æ‹“å±•æ€§  
å¾ˆå¼ºï¼ŒæŒ–ä¸ªå‘ï¼Œä»¥åä»‹ç»ã€‚

## SSHç™»å½•

åœ¨æ‰‹æœºä¸Šä½¿ç”¨å‘½ä»¤è¡Œè¿˜æ˜¯å¾ˆä¸æ–¹ä¾¿çš„,ä¸»è¦æ˜¯é”®ç›˜çš„é—®é¢˜,æˆ‘ä»¬æœ€å¥½æ˜¯èƒ½é€šè¿‡SSHåœ¨ç”µè„‘ä¸Šé“¾æ¥Termux,å†è¿›è¡Œæ“ä½œ,å½“ç„¶ä¹Ÿå¯ä»¥ç”¨æ‰‹æœºé“¾æ¥ç”µè„‘,åœ¨å¤–å‡ºçš„æ—¶å€™,ç”µè„‘ä¸åœ¨èº«è¾¹,ä¹Ÿå¯ä»¥è¿›è¡Œä¸€äº›æ“ä½œ.  
Termuxç»ˆç«¯ä¸­ä½¿ç”¨sshè®¿é—®è¿œç¨‹æœåŠ¡å™¨ä¸Linuxç»ˆç«¯ä¸­ä½¿ç”¨sshåˆ«æ— äºŒè‡´ã€‚ä½†è¦ä½¿ç”¨sshè®¿é—®Androidè®¾å¤‡å°±ä¸åŒäº†ï¼ŒTermuxç»ˆç«¯ä¸­sshdæœåŠ¡ä¸æ”¯æŒå¯†ç éªŒè¯ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·ä¸èƒ½æœŸæœ›é€šè¿‡ssh user@serverç„¶åè¾“å…¥ç”¨æˆ·å¯†ç çš„æ–¹å¼ä»åˆ«çš„ç»ˆç«¯è®¿é—®Androidè®¾å¤‡ã€‚Termuxç»ˆç«¯ä¸­sshdåªæ”¯æŒå¯†é’¥éªŒè¯ã€‚

ä¾‹å¦‚,æˆ‘çš„ç”µè„‘IPä¸º172.16.128.96,ç”¨æˆ·åä¸ºadmin;  
æ‰‹æœºçš„IPä¸º172.16.128.245,ç”¨æˆ·åu0_a494;
(IPå’Œç”¨æˆ·ååˆ†åˆ«ç”¨ifconfigå’ŒwhoamiæŸ¥çœ‹)
1. termuxå®‰è£…openssh
```bash
# å®‰è£…
apt update
apt install openssh
# å¯åŠ¨
sshd
```
2. åœ¨ç”µè„‘ä¸Šç”Ÿæˆç§˜é’¥
```basj
ssh-keygen -t rsa
```
ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶id_rsaå’Œid_rsa.pubï¼Œå¹¶ä¿å­˜åœ¨~/.ssh/ä¸‹ï¼Œå‰è€…æ˜¯ç§é’¥ï¼Œåè€…æ˜¯å…¬é’¥.  
å¦‚æœç”µè„‘ä¸Šå·²ç»ç”Ÿæˆè¿‡ç§˜é’¥äº†åˆ™å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥.

3. ä¼ é€id_rsa.pubåˆ°å®‰å“æ‰‹æœºä¸Š  
åœ¨æ‰‹æœºä¸ŠTermuxç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤
```bash
cd
scp admin@172.16.128.96:.ssh/id_rsa.pub .
```
æ¥ä¸‹æ¥ä¼šæç¤ºè¾“å…¥ç”µè„‘ä¸Šçš„ç”¨æˆ·å¯†ç .
ä¼ é€å®Œä¹‹åå°†ç”µè„‘çš„å…¬é’¥æ·»åŠ åˆ°æ‰‹æœºçš„æˆæƒæ–‡ä»¶é‡Œ:
```
cat id_rsa.pub >> .ssh/authorized_keys
```
å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ¥ä¼ è¾“å…¬é’¥,åæ­£æœ€ç»ˆçš„ç›®çš„å°±æ˜¯æŠŠç”µè„‘çš„å…¬é’¥å†…å®¹å†™å…¥æˆæƒæ–‡ä»¶é‡Œå°±å¥½äº†.

4. sshè¿æ¥
    1. åœ¨æ‰‹æœºä¸Šå¯åŠ¨sshdæœåŠ¡
    ```bash
    sshd
    ```
    2. åœ¨ç”µè„‘ç»ˆç«¯è¿›è¡Œè¿æ¥
    Termuxçš„opensshé»˜è®¤ç«¯å£æ˜¯8022
    ```bash
    ssh u0_a494@172.16.128.245 -p 8022
    ```
å¦‚ä¸‹åˆ†åˆ«æ˜¯ç”µè„‘è¿æ‰‹æœºå’Œæ‰‹æœºè¿ç”µè„‘çš„ç•Œé¢
![image](https://user-images.githubusercontent.com/9245002/65678075-46867580-e085-11e9-8c57-ba937e7e6d60.png)
![image](https://user-images.githubusercontent.com/9245002/65678105-51410a80-e085-11e9-84da-a026d7ccf5b4.png)
åé¢å¯ä»¥åšä»€ä¹ˆäº‹å°±è¯·å‘æŒ¥ä½ è‡ªå·±çš„æƒ³è±¡åŠ›å§.

## å‚è€ƒèµ„æ–™

[ç¥å™¨Termuxçš„ä½¿ç”¨æ—¥å¸¸](https://www.jianshu.com/p/5c8678cef499)  
[ä½ æµªè´¹äº†ä¸€å°ç”µè„‘](https://www.jianshu.com/p/312cc544e275)  
[ubuntuä½¿ç”¨SSHé€šè¿‡Termuxç™»å½•Androidè®¾å¤‡](ubuntuä½¿ç”¨SSHé€šè¿‡Termuxç™»å½•Androidè®¾å¤‡)  
